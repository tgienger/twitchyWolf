!function(){function t(){var t,e;t=[].slice.call(arguments,0),e=JSON.stringify(t),"console"in window&&console.log(e.substr(1,e.length-2))}var e;e=angular.module("twitchyApp",["ui.router","ui.bootstrap"]).config(function(t,e){e.otherwise("/"),t.state("main",{url:"/",templateUrl:"app/partials/main.html",controller:"MainCtrl"})}).controller("MainCtrl",function(e,n,a){var c;c="https://api.twitch.tv/kraken/",e.clientId="jmauht7mi0ud0hptf0l8060uqe41ybw",e.channel={},e.channelStarted=!1,e.loadingStreams=!1,e.searchCollapsed=!0,e.miniMize=function(){e.streams&&e.stream&&(e.streams={},e.stream.search="")},$(".draggable").draggable({handle:".handle",stack:".windows",snap:!0,containment:"document"}),e.playVideo=function(t){e.channelStarted&&(e.channelStarted=!1),e.channelName=t.channel.display_name.toLowerCase(),e.channelStarted=!0},e.queryStreams=function(t){""===t.search?e.streams={}:(e.loadingStreams=!0,n.jsonp(c+"search/streams?callback=JSON_CALLBACK",{params:{q:t.search,type:"suggest"}}).success(function(t){e.streams=t.streams,e.loadingStreams=!1}))},e.queryChannel=function(t){n.jsonp(c+"streams/"+t.name.toLowerCase()+"?callback=JSON_CALLBACK&client_id="+e.clientId).success(function(t){e.channelInfo=t})},$(".twitch-connect").click(function(){Twitch.login({scope:["user_read","channel_read","chat_login","channel_check_subscription","user_subscriptions","channel_stream","channel_commercial","channel_editor","user_follows_edit","user_blocks_edit"],redirect_uri:"http://localhost:8080/#/"})}),$(".twitch-logout").click(function(){Twitch.logout(function(e){e&&t(e),$(".twitch-connect").show(),$(".twitch-logout").hide()})}),Twitch.init({clientId:"jmauht7mi0ud0hptf0l8060uqe41ybw"},function(e,n){e&&t(e),n.authenticated&&($(".twitch-connect").hide(),$(".twitch-logout").show(),a.token=n.token)})}).directive("stream",function(){return{restrict:"E",scope:{channelName:"="},templateUrl:"app/partials/directives/stream.html"}}).directive("chat",function(){return{restrict:"E",scope:{channelName:"="},templateUrl:"app/partials/directives/chat.html",controller:function(t,e){t.currentChatUrl="http://twitch.tv/chat/embed?channel="+t.channelName+"&popout_chat=true",t.chatUrl=e.trustAsResourceUrl(t.currentChatUrl)}}})}();